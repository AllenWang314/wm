{"version":3,"sources":["STATIC/select_times_demo.gif","STATIC/copy_link_demo.gif","STATIC/view_availabilities_demo.gif","TimeSelectorFinal.js","AvailabilityDisplay.js","MasterSelector.js","SwitchZone.js","ViewerHeader.js","Viewer.js","ReactTableDrag.js","ByWeek.js","Bounds.js","Timezone.js","Splash.js","CSS/themes.js","App.js","serviceWorker.js","index.js","STATIC/sign_in_demo.gif"],"names":["module","exports","moment","require","utc","API_LINK","process","genFalseArray","length","width","rows","i","column","j","push","TimeSelector","props","findIndex","difference","generateDifference","num_days","state","date_array","ans","times","generateBounds","earliest","latest","Date","Number","setHours","duration","diff","asHours","printCell","e","TableDragSelect","handleTouchStartCell","generateRows","format","repeating","key","disabled","handleDrag","new_cells","newUser","setState","cells","selected_times","map","x","valueOf","Axios","get","sha256","slug","name","then","response","data","times_array","put","selected","handleAvail","label_cells","labels","loaded","this","prevProps","values","snd_hash","post","headers","prev_times","index","className","style","tableLayout","value","onChange","generateContent","Component","genTrueArray","pickHex","color1","color2","weight","w1","w2","Math","round","Availability","availDict","arr","counts","num","genAvailDict","availabilities","flat","day","time","people","names","name_array","modified_availabilities","k","includes","color","isNaN","data-tip","join","backgroundColor","effect","offset","bottom","dispalyed","old_avail","MasterSelector","generateLabels","getHours","current_day","tz","timezone","add","generateTimes","time_array","new_moment","new_avails","updatedAvailabilities","userIndex","align","margin","all_zones","SwitchZone","handleChange","target","guess","zone","defaultValue","NativeSelect","as","generateZones","ViewerHeader","handleHelp","openHelp","helpStatus","handleLink","copy","window","location","href","showLink","handleNext","helpContent","src","sign_in_demo","select_times_demo","copy_link_demo","view_availabilities_demo","AppBar","position","boxShadow","Toolbar","Tooltip","title","Button","Link","Home","onClick","Help","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","Close","NavigateNext","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","message","Viewer","preventDefault","handleChangeDos","password","handleSubmit","indexOf","submitted","match","params","hash_result","hash","rsp","hash_password","narray","incorrect_password","handleZoneChange","option","generateSignIn","display","verticalAlign","TextField","placeholder","type","variant","event_name","generateEventName","Typography","generateNames","size","help","adv_controls","CircularProgress","withRouter","monthNames","now","Calendar","initial_rows","current_month_cells","initial_dates","calendar","date","getDate","month","getMonth","year","getFullYear","getTime","initial_first_month_cells","generate_rows","Object","selected_cells","current_month","row_key","first_month_cells","displayed_array","current_array","current_cell","splice","sort","onDrag","handlePrev","maxWidth","maxHeight","minWidth","minHeight","day_list","ByWeek","initialize","initial_days","row2","genInitRows","boolean_cells","Bounds","generateOptions","Timezone","current_timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","Splash","future_slug","day_array","console","log","enableReinitialize","initialValues","onSubmit","history","catch","error","alert","id","required","setFieldValue","event","Checkbox","checked","darkTheme","createMuiTheme","palette","background","default","lightTheme","App","onToggle","dark","localStorage","setItem","initial","undefined","darkMode","ThemeProvider","theme","CssBaseline","path","component","Switch","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1d81189c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/select_times_demo.2d7578f4.gif\";","module.exports = __webpack_public_path__ + \"static/media/copy_link_demo.d221381c.gif\";","module.exports = __webpack_public_path__ + \"static/media/view_availabilities_demo.d1a28c98.gif\";","import React, { Component } from \"react\";\nimport TableDragSelect from \"react-table-drag-select\";\nimport Axios from \"axios\";\nimport { sha256 } from 'js-sha256';\n\nvar moment = require('moment-timezone');\nmoment().utc();\n\nconst API_LINK = process.env.REACT_APP_BACKEND_URL || \"http://localhost:8000/api/\";\n\nfunction genFalseArray(length, width) {\n    const rows = []\n    for (var i = 0; i < length; ++i) {\n        const column = []\n        for (var j = 0; j < width; ++j) {\n            column.push(false)\n        }\n        rows.push(column)\n    }\n    return (rows)\n}\n\nclass TimeSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cells: [],\n            label_cells: [],\n            labels: [],\n            date_array: [],\n            times: [],\n            loaded: false,\n            selected: []\n        }\n    }\n    async componentDidMount() {\n        await this.setState({ date_array: this.props.date_array })\n        const difference = this.generateDifference()\n        await this.setState({\n            cells: genFalseArray(2 * difference + 1, this.state.date_array.length),\n            label_cells: genFalseArray(2 * difference + 2, 1)\n        })\n        await this.setState({ times: this.props.times })\n        await this.setState({ loaded: true })\n    }\n\n    async componentDidUpdate(prevProps) {\n        if (this.props.newUser !== prevProps.newUser && this.props.newUser === 1) {\n            const values = {snd_hash: sha256(this.props.slug + \"%\" + this.props.name), times_array : []};\n            Axios.post(`${API_LINK}post-times/`, values, {\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n        }\n        else if (this.props.newUser !== -1 && this.props.newUser !== prevProps.newUser){\n            Axios.get(`${API_LINK}times/` + sha256(this.props.slug + \"%\" + this.props.name)).then((response) => {\n                const prev_times = response.data.times_array;\n                const new_cells = this.state.cells;\n                for (var i = 0; i < prev_times.length; i++) {\n                    const index = this.findIndex(prev_times[i]);\n                    new_cells[index[1]][index[0]] = true;\n                }\n                this.setState({cells: new_cells});\n            });\n        }\n    }\n\n    findIndex = (moment) => {\n        const difference = this.generateDifference()\n        const num_days = this.state.date_array.length\n        const ans = [];\n        for (var i = 1; i < 2 * difference + 1; ++i) {\n            for (var j = 0; j < num_days; ++j) {\n                if (this.state.times[j][i] === moment) {\n                    ans.push(j);\n                    ans.push(i);\n                    return ans;\n                }\n            }\n        }\n    }\n\n    generateBounds = () => {\n        if (this.props.earliest < this.props.latest) {\n            const earliest = new Date(Number(this.props.date_array[0]))\n            const latest = new Date(Number(this.props.date_array[0]))\n            earliest.setHours(Number(this.props.earliest))\n            latest.setHours(Number(this.props.latest))\n            return { earliest, latest }\n        }\n        else {\n            const earliest = new Date(Number(this.props.date_array[0]))\n            const latest = new Date(Number(this.props.date_array[0]))\n            earliest.setHours(this.props.earliest + 24)\n            latest.setHours(this.props.latest)\n            return { earliest, latest }\n        }\n    }\n\n    generateDifference = () => {\n        const { earliest, latest } = this.generateBounds()\n        const difference = moment.duration(moment(latest).diff(moment(earliest))).asHours()\n        return (difference)\n    }\n\n    printCell = (e) => {\n        new TableDragSelect().handleTouchStartCell(e)\n    }\n\n    generateRows = () => {\n        const difference = this.generateDifference()\n        const rows = []\n        for (var i = 0; i < 2 * difference + 1; ++i) {\n            const column = []\n            for (var j = 0; j < this.state.date_array.length; ++j) {\n                if (i === 0) {\n                    const format = (this.props.repeating) ? 'ddd' : 'ddd MMM D';\n                    column.push(<td key={100 * i + j} disabled>{moment(this.state.times[j][1]).format(format)}</td>)\n                }\n                else {\n                    column.push(<td key={100 * i + j}>&nbsp;</td>)\n                }\n            }\n            rows.push(<tr key={i}>{column}</tr>)\n        }\n        return rows;\n    }\n\n    handleDrag = (new_cells) => {\n        if (this.props.newUser !== -1) {\n            this.setState({ cells: new_cells })\n            const difference = this.generateDifference()\n            const num_days = this.state.date_array.length\n            var selected_times = []\n            for (var i = 1; i < 2 * difference + 1; ++i) {\n                for (var j = 0; j < num_days; ++j) {\n                    if (new_cells[i][j] === true) {\n                        selected_times.push(this.state.times[j][i])\n                    }\n                }\n            }\n            selected_times = selected_times.map(x => moment(x).valueOf())\n\n            Axios.get(`${API_LINK}times/` + sha256(this.props.slug + \"%\" + this.props.name)).then((response) => {\n                response.data.times_array = selected_times;\n                Axios.put(`${API_LINK}times/` + sha256(this.props.slug + \"%\" + this.props.name), response.data).then((response) => {\n                    this.setState({ selected: selected_times });\n                    this.props.handleAvail(selected_times);\n                });\n            });\n        }\n    }\n\n\n    \n    generateContent() {\n        return (\n            <TableDragSelect className=\"viewer-table\"\n                style={{ tableLayout: \"fixed\" }}\n                value={this.state.cells}\n                onChange={this.handleDrag}>\n                {this.generateRows()}\n            </TableDragSelect>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.loaded === true ? this.generateContent() : null}\n            </div>\n        );\n    }\n\n}\n\nexport default TimeSelector;","import React, { Component } from \"react\";\nimport ReactTooltip from 'react-tooltip'\n\nvar moment = require('moment-timezone');\nmoment().utc();\n\nfunction genTrueArray (length, width) {\n    const rows = []\n    for (var i = 0; i < length; ++i){\n        const column = []\n        for (var j = 0; j < width; ++j){\n            column.push(true)\n        }\n        rows.push(column)\n    }\n    return (rows)\n}\n\n\nfunction genAvailDict (arr){\n    var counts = {};\n    for (var i = 0; i < arr.length; i++) {\n      var num = arr[i];\n      counts[num] = counts[num] ? counts[num] + 1 : 1;\n    }\n    return (counts)\n}\n\nfunction pickHex(color1, color2, weight) {\n    var w1 = weight;\n    var w2 = 1 - w1;\n    var rgb = [Math.round(color1[0] * w1 + color2[0] * w2),\n        Math.round(color1[1] * w1 + color2[1] * w2),\n        Math.round(color1[2] * w1 + color2[2] * w2)];\n    return rgb;\n}\n\nclass Availability extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        name_array: [],\n        times: [],\n        cells: [],\n        loaded: false, \n        dispalyed: []\n      }\n    }\n    async componentDidMount(){\n        await this.setState({times: this.props.times, cells: genTrueArray(2*this.props.difference + 1 ,this.props.date_array.length), name_array: this.props.name_array});\n        this.generateRows();\n        this.setState({loaded: true})\n    }\n\n    async componentDidUpdate(prevProps){\n        if(prevProps.name_array.length !== this.props.name_array.length) {\n            const old_avail = [...this.props.availabilities];\n            old_avail.push([]);\n            this.setState({availabilities: old_avail});\n        }\n    }\n\n    generateRows = () => {\n        const availDict = genAvailDict(this.props.availabilities.flat())\n        const difference = this.props.difference\n        const rows = []\n        for(var i = 0; i < 2 * difference + 1; ++i) {\n            const column = []\n            for (var j = 0; j < this.props.date_array.length ; ++j){\n                const day = this.state.times[j][1]\n                const time = this.state.times[j][i]\n                if (i === 0){\n                    const format = (this.props.repeating) ? 'ddd' : 'ddd MMM D';\n                    column.push(<td key={100 * i + j} \n                        disabled>\n                        {moment(day).format(format)}\n                        </td>)    \n                }\n                else {\n                    const people = []\n                    const names = this.props.name_array\n                    const modified_availabilities = [...this.props.availabilities];\n                    if (modified_availabilities.length !== this.state.name_array.length) modified_availabilities.push([]);\n                    for (var k  = 0; k < modified_availabilities.length; ++k){\n                        modified_availabilities[k].includes(time) ? people.push(names[k]): people.push();\n                    }\n                    const color = pickHex([169, 169, 169],[0, 121, 107],1 - (isNaN(availDict[time]) ? 0 : availDict[time])/(names.length))\n                    column.push(<td key={100 * i + j}   \n                        data-tip={people.join(\", \")}\n                        style={{backgroundColor: \"rgb(\" + color + \")\"}} \n                        className=\"cell-enabled-gray\">\n                        &nbsp;<ReactTooltip effect=\"solid\" offset={{bottom: \"7px\"}}/>\n                        </td>)\n                }\n            }\n            rows.push(<tr key={i}>{column}</tr>)\n        }\n        return rows;\n    }\n\n\n    generateContent = () => {\n        return(\n            <table className=\"viewer-table\" \n            style={{tableLayout:\"fixed\"}}\n            >\n            <tbody>\n            {this.generateRows()}\n            </tbody>\n            </table>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n            {this.state.loaded? this.generateContent() : null}\n            </div>\n        );\n    }\n\n}\n\nexport default Availability;","import React, { Component } from \"react\";\nimport TimeSelector from \"./TimeSelectorFinal.js\";\nimport Availability from \"./AvailabilityDisplay.js\"\n\nvar moment = require('moment-timezone');\nmoment().utc();\n\nfunction genFalseArray (length, width) {\n    const rows = []\n    for (var i = 0; i < length; ++i){\n        const column = []\n        for (var j = 0; j < width; ++j){\n            column.push(false)\n        }\n        rows.push(column)\n    }\n    return (rows)\n}\n\nclass MasterSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        availabilities: this.props.availabilities,\n        labels: [],\n        label_cells: [],\n        times: [],\n        loaded: false,\n        }\n    }\n    async componentDidMount (){\n        await this.generateLabels()\n        await this.generateTimes()\n        await this.setState({loaded: true})\n    }\n\n    async componentDidUpdate(prevProps){\n        if (prevProps.name_array.length !== this.props.name_array.length) {\n            const old_avail = [...this.state.availabilities];\n            old_avail.push([]);\n            this.setState({availabilities: old_avail});\n        }\n        if (prevProps.timezone !== this.props.timezone){\n            this.generateLabels()\n        }\n    }\n\n    generateBounds = () => {\n        if (this.props.earliest < this.props.latest){\n            const earliest = new Date(Number(this.props.date_array[0]))\n            const latest = new Date(Number(this.props.date_array[0]))\n            earliest.setHours(Number(this.props.earliest))\n            latest.setHours(Number(this.props.latest))\n            return {earliest,latest}\n        }\n        else {\n            const earliest = new Date(Number(this.props.date_array[0]))\n            const latest = new Date(Number(this.props.date_array[0]))\n            earliest.setHours(this.props.earliest + 24)\n            latest.setHours(this.props.latest)\n            return {earliest,latest}\n        }\n    }\n\n    generateDifference = () =>{\n        const {earliest, latest} = this.generateBounds()\n        const difference = moment.duration(moment(latest).diff(moment(earliest))).asHours()\n        return(difference)\n    }\n\n    generateLabels = () => {\n        const earliest = this.generateBounds().earliest.getHours()\n        const difference = this.generateDifference()\n        const current_day = moment(this.props.date_array[0])\n        const rows = []\n        for(var i = 0; i < 2 * difference + 2; ++i) {\n            const column = []\n            const time = moment(current_day).tz(this.props.timezone).add(60*earliest+30*(i-1),'minutes').format('LT')\n            if (i%2===1){\n                column.push(<td key={i} disabled>{time}</td>)\n            }\n            else {\n                column.push(<td key={i} disabled>&nbsp;</td>)   \n            }\n            rows.push(<tr key={i}>{column}</tr>)\n        }\n        this.setState({labels: rows, label_cells: genFalseArray(2*difference + 2,1)})\n    }\n\n    generateTimes = () => {\n        const difference = this.generateDifference()\n        const time_array = []\n        for (var j = 0; j < this.props.date_array.length; ++j){\n            const current_day = moment(this.props.date_array[j])\n            const column = []\n            for(var i = 0; i < 2 * difference + 1; ++i){\n                if (i === 0){column.push([]);continue}\n                const new_moment = moment(current_day).add(30*difference+30*(i-1),'minutes').valueOf()\n                column.push(new_moment)\n            }\n            time_array.push(column)\n        }\n        this.setState({times: time_array})\n    }\n\n    handleAvail = (new_avails) => {\n        const updatedAvailabilities = this.state.availabilities;\n        updatedAvailabilities[this.props.userIndex] = new_avails;\n        this.setState({availabilities: updatedAvailabilities});\n    }\n\n    generateContent() {\n        return (\n            <table style={{align: \"center\", margin: \"0px auto\"}}>\n            <tbody>\n            <tr>\n            <td style={{width:\"70px\"}}>\n                <table className=\"viewer-table\" \n                value={this.state.label_cells}>\n                <tbody>\n                {this.state.labels}\n                </tbody>\n                </table>\n            </td>\n            <td>\n                <TimeSelector\n                newUser = {this.props.newUser} \n                userIndex = {this.props.userIndex}\n                repeating={this.props.repeating}\n                name = {this.props.name}\n                slug = {this.props.slug}\n                date_array={this.props.date_array} \n                timezone={this.props.timezone}\n                earliest={Number(this.props.earliest)}\n                latest={Number(this.props.latest)}\n                times={this.state.times}\n                handleAvail={this.handleAvail}/>\n            </td>\n            </tr>\n            <tr>\n            <td style={{width:\"70px\"}}>\n                <table className=\"viewer-table\" \n                value={this.state.label_cells}>\n                <tbody>\n                {this.state.labels}\n                </tbody>\n                </table>\n            </td>\n            <td>\n                <Availability\n                date_array={this.props.date_array} \n                repeating={this.props.repeating}\n                timezone={this.props.timezone}\n                earliest={Number(this.props.earliest)}\n                latest={Number(this.props.latest)}\n                difference={this.generateDifference()}\n                times={this.state.times}\n                name_array={this.props.name_array}\n                availabilities={this.state.availabilities}/>\n            </td>\n            </tr>\n            </tbody>\n            </table>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.loaded ? this.generateContent() : null}\n            </div>\n\n        );\n    }\n}\n\nexport default MasterSelector;","import React, { Component } from \"react\";\nimport { NativeSelect } from '@material-ui/core';\n\nvar moment = require('moment-timezone');\nconst all_zones = moment.tz.names()\n\nclass SwitchZone extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\ttimezone: moment.tz.guess()\n\t\t}\n\t}\n\n\tgenerateZones (){\n            var rows = []\n            for (var zone of all_zones){\n                if (zone === moment.tz.guess()){\n                    rows.push(<option defaultValue value={zone}key={zone}> {zone} </option>)\n                }\n                else {\n                    rows.push(<option value={zone} key={zone}> {zone} </option>)\n                }\n            }\n            return(rows)\n        }\n\n\thandleChange = (e) => {\n\t\tthis.setState({timezone: e.target.value})\n\t\tthis.props.onChange(e.target.value);\n\t}\n\n\trender() {\n        return (\n            <NativeSelect\n            name={this.props.name}\n            as={this.props.as}\n            className=\"Timezone\"\n            value={this.state.timezone} \n            onChange={(e) => this.handleChange(e)}\n            >\n            {this.generateZones()}\n            </NativeSelect>\n            )\n    }\n}\n\nexport default SwitchZone","import React, { Component } from \"react\";\nimport sign_in_demo from './STATIC/sign_in_demo.gif';\nimport select_times_demo from './STATIC/select_times_demo.gif';\nimport copy_link_demo from './STATIC/copy_link_demo.gif';\nimport view_availabilities_demo from './STATIC/view_availabilities_demo.gif';\nimport { AppBar, Toolbar, Button, Tooltip, Dialog, DialogTitle, DialogContent,DialogActions, Snackbar, Link } from '@material-ui/core';\nimport { Home, Help, Close, NavigateNext, Link as LinkIcon } from '@material-ui/icons';\nimport copy from \"copy-to-clipboard\";\n\nconst FRONTEND_URL = process.env.REACT_APP_FRONTEND_URL || \"http://localhost:8000\";\n\nclass ViewerHeader extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\"openHelp\" : false, \"showLink\": false, helpStatus: 0}\n\t}\n\n\n\thandleHelp = () =>{\n\t\tthis.setState({\"openHelp\": !this.state.openHelp, helpStatus: (this.state.openHelp)? 0 : 1})\n\t}\n\n\thandleLink = () => {\n\t\tcopy(window.location.href)\n\t\tthis.setState({\"showLink\": !this.state.showLink})\n\t}\n\n\thandleNext = () => {\n\t\tthis.setState({helpStatus: this.state.helpStatus + 1})\n\t}\n\n\thelpContent = () => {\n\t\tswitch (this.state.helpStatus) {\n\t\t\tcase (1):\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div> 1. Sign in with optional password\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<img src={sign_in_demo} />\n\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\tcase (2):\n\t\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div> 2. Select available times\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<img src={select_times_demo} />\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase (3):\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div> 3. Copy and send the link to friends and colleagues\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<img src={copy_link_demo} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase (4):\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div> 4. Click to view availabilities\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<img src={view_availabilities_demo} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div> 1. Sign in with optional password\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<img src={sign_in_demo} />\n\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<AppBar position=\"static\" color=\"transparent\" style={{boxShadow: \"none\"}}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Tooltip title=\"Go back to main page\">\n\t\t\t\t<Button >\n\t\t\t\t\t<Link href={FRONTEND_URL} color=\"inherit\">\n\t\t\t\t\t\t<Home/>\n\t\t\t\t\t</Link>\n\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t<div style={{\"marginLeft\": \"auto\"}}>\n\t\t\t\t\t<Tooltip title=\"Copy link to clipboard\">\n\t\t\t\t<Button onClick={this.handleLink}>\n\t\t\t\t\t<LinkIcon/>\n\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"Help\">\n\t\t\t\t<Button onClick={this.handleHelp}>\n\t\t\t\t\t<Help/>\n\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t<Dialog open={this.state.openHelp}\n\t\t\t\tonClose={this.handleHelp}>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\tHelp and Info\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t{this.helpContent()}\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t{(this.state.helpStatus === 4)? (<Button onClick={this.handleHelp} >\n\t\t\t\t\t\t\t<Close/> Close\n\t\t\t\t\t\t</Button>) :\n\t\t\t\t\t\t(<Button onClick ={this.handleNext} >\n\t\t\t\t\t\t\t<NavigateNext/> Next\n\t\t\t\t\t\t</Button>)}\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.showLink}\n\t\t\t\tautoHideDuration={2000}\n\t\t\t\tonClose={this.handleLink}\n\t\t\t\tanchorOrigin={{\n\t\t\t          vertical: 'bottom',\n\t\t\t          horizontal: 'left',\n\t\t\t\t}}\n\t\t\t\tmessage=\"Link copied!\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t)\n\t}\n}\n\nexport default ViewerHeader","import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport MasterSelector from \"./MasterSelector.js\";\nimport { withRouter } from \"react-router-dom\";\nimport SwitchZone from \"./SwitchZone.js\";\nimport ViewerHeader from \"./ViewerHeader.js\";\nimport { Button, TextField, Typography, CircularProgress } from \"@material-ui/core\";\nimport { sha256 } from 'js-sha256';\n\nconst API_LINK = process.env.REACT_APP_BACKEND_URL || \"http://localhost:8000/api/\";\n\nclass Viewer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: 0,\n            name: \"\",\n            event_name: \"\",\n            submitted: false,\n            date_array: [],\n            repeating: false,\n            userIndex: -1,\n            earliest: -1,\n            latest: 24,\n            timezone: \"\",\n            name_array: [],\n            incorrect_password: <div />,\n            password: \"\",\n            newUser: -1, // -1: not submitted yet, 0: not a new user, 1: yes new user\n            help: false,\n            adv_controls: false,\n            availabilities: [],\n        };\n    }\n\n    async componentDidMount() {\n        const slug = this.props.match.params.slug;\n        Axios.get(API_LINK + slug).then((response) => {\n            this.setState({\n                data: response.data[0][0],\n                event_name: response.data[0][0].event_name,\n                date_array: response.data[0][0].date_array,\n                name_array: response.data[0][0].name_array,\n                timezone: response.data[0][0].timezone,\n                slug: response.data[0][0].slug,\n                repeating: response.data[0][0].repeating,\n                earliest: response.data[0][0].earliest,\n                latest: response.data[0][0].latest,\n                availabilities: response.data[1]\n            });\n        });\n    }\n\n    handleChange = (e) => {\n        e.preventDefault();\n        this.setState({ name: e.target.value });\n    };\n\n    handleChangeDos = (e) => {\n        e.preventDefault();\n        this.setState({ password: e.target.value });\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        if (this.state.name_array.indexOf(this.state.name) === -1) {\n            this.setState({ submitted: true }, () => {\n                Axios.get(API_LINK + this.props.match.params.slug).then(\n                    (response) => {\n                        if (\n                            !response.data[0][0].name_array.includes(\n                                this.state.name\n                            )\n                        ) {\n                            this.setState({ newUser: 1 });\n                            response.data[0][0].name_array.push(this.state.name);\n                            Axios.put(\n                                API_LINK + this.props.match.params.slug,\n                                response.data[0][0]\n                            ).then(() => {\n                                var hash = require(\"object-hash\");\n                                const hash_result =\n                                    \"\" + hash(this.state.password);\n                                const values = {\n                                    snd_hash:\n                                        sha256(this.props.match.params.slug +\n                                        \"%\" +\n                                        this.state.name),\n                                    password: hash_result,\n                                };\n                                Axios.post(\n                                    API_LINK + \"post-password/\",\n                                    values,\n                                    {\n                                        headers: {\n                                            \"Content-Type\": \"application/json\",\n                                        },\n                                    }\n                                ).then(() => {\n                                    this.setState({\n                                        userIndex:\n                                            response.data[0][0].name_array.length -\n                                            1,\n                                        submitted: true,\n                                        name_array: response.data[0][0].name_array,\n                                    });\n                                });\n                            });\n                        }\n                    }\n                );\n            });\n        } else {\n            Axios.get(\n                API_LINK +\n                    \"password/\" +\n                    sha256(this.props.match.params.slug +\n                    \"%\" +\n                    this.state.name)\n            ).then((rsp) => {\n                var hash = require(\"object-hash\");\n                const hash_password = hash(this.state.password);\n                if (rsp.data.password === hash_password) {\n                    this.setState({ submitted: true }, () => {\n                        Axios.get(API_LINK + this.props.match.params.slug).then(\n                            (response) => {\n                                if (\n                                    !response.data[0][0].name_array.includes(\n                                        this.state.name\n                                    )\n                                ) {\n                                    this.setState({ newUser: 1 });\n                                    response.data[0][0].name_array.push(\n                                        this.state.name\n                                    );\n                                    Axios.put(\n                                        API_LINK + this.props.match.params.slug,\n                                        response.data[0][0]\n                                    ).then(() => {\n                                        if (this.state.userIndex === -1) {\n                                            this.setState({\n                                                userIndex:\n                                                    response.data[0][0].name_array\n                                                        .length - 1,\n                                                submitted: true,\n                                                name_array:\n                                                    response.data[0][0].name_array,\n                                            });\n                                        }\n                                    });\n                                } else {\n                                    this.setState({ newUser: 0 });\n                                    if (this.state.userIndex === -1) {\n                                        var i = 0;\n                                        let narray =\n                                            response.data[0][0].name_array;\n                                        while (\n                                            i < narray.length &&\n                                            narray[i] !== this.state.name\n                                        ) {\n                                            i++;\n                                        }\n                                        if (this.state.userIndex === -1) {\n                                            this.setState({\n                                                userIndex: i,\n                                                submitted: true,\n                                                name_array: narray,\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                        );\n                    });\n                } else {\n                    this.setState({\n                        incorrect_password: <div> Incorrect password!</div>,\n                    });\n                }\n            });\n        }\n    };\n\n    handleZoneChange = (option) => {\n        this.setState({ timezone: option });\n    };\n\n    generateSignIn = () => {\n        return (\n            <div style={{}}>\n                {!this.state.submitted || this.state.newUser === -1 ? (\n                    <div\n                        style={{\n                            display: \"inline-block\",\n                            verticalAlign: \"top\",\n                        }}\n                    >\n                        <TextField\n                            className=\"Input\"\n                            style={{ margin: \"10px\" }}\n                            placeholder=\"Name\"\n                            value={this.state.name}\n                            onChange={this.handleChange}\n                        />\n                        <br />\n                        <TextField\n                            className=\"Input\"\n                            type=\"password\"\n                            placeholder=\"Password (Optional)\"\n                            value={this.state.password}\n                            onChange={this.handleChangeDos}\n                        />\n                        {this.state.incorrect_password}\n                        <br />\n                        <Button\n                            onClick={this.handleSubmit}\n                            margin=\"small\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                        >\n                            Submit\n                        </Button>\n                    </div>\n                ) : (\n                    <div>Welcome {this.state.name}!</div>\n                )}\n                <div style={{ display: \"inline-block\", verticalAlign: \"top\" }}>\n                    <SwitchZone\n                        value={this.state.timezone}\n                        onChange={this.handleZoneChange}\n                    />\n                </div>\n            </div>\n        );\n    };\n\n    generateContent = () => {\n        if (this.state.event_name === \"\") return \"\";\n        return (\n            <MasterSelector\n                name={this.state.name}\n                date_array={this.state.date_array}\n                repeating={this.state.repeating}\n                slug={this.state.slug}\n                timezone={this.state.timezone}\n                earliest={Number(this.state.earliest)}\n                latest={Number(this.state.latest)}\n                name_array={this.state.name_array}\n                newUser={this.state.newUser}\n                userIndex={this.state.userIndex}\n                availabilities={this.state.availabilities}\n            />\n        );\n    };\n\n    generateEventName = () => {\n        return <Typography variant=\"h3\">{this.state.event_name} </Typography>;\n    };\n\n    generateNames = () => {\n        if (this.state.name_array.length === 0) {\n            return (\n                <Typography align=\"center\" size=\"small\">\n                    No one has signed up yet{\" \"}\n                </Typography>\n            );\n        } else {\n            return (\n                <Typography align=\"center\" size=\"small\">\n                    People: {this.state.name_array.join(\", \")}\n                </Typography>\n            );\n        }\n    };\n\n    render() {\n        if (this.state.data === 0){\n            return(\n                <div className = \"Loading\">\n                    <CircularProgress/>\n                </div>\n            );\n        }\n        else {\n            return (\n                <div className=\"Splash\">\n                    <ViewerHeader slug={this.state.slug} />\n                    {this.generateEventName()}\n                    {this.generateSignIn()}\n                    {this.generateContent()}\n                    {this.generateNames()}\n                </div>\n            );\n        }\n    }\n}\n\nexport default withRouter(Viewer);\n","import React, { Component } from \"react\";\nimport TableDragSelect from \"react-table-drag-select\";\nimport calendar from \"calendar-month-array\";\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport { Button } from '@material-ui/core';\n\nconst monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n];\n\nvar now = new Date();\n\nfunction genFalseArray (length) {\n    const rows = []\n    for (var i = 0; i < length; ++i){\n        rows.push([false,false,false,false,false,false,false])\n    }\n    return (rows)\n}\n\n\nclass Calendar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            first_month_cells: this.initial_first_month_cells(),\n            selected_cells: this.props.initial_dates.map((x) => new Date(x)),\n            displayed_array: this.initial_rows(),\n            current_month: new Date(now.getFullYear(), now.getMonth(), 1),\n            current_array: calendar()\n        };\n    }\n\n    initial_rows = () => {\n        var rows = [];\n        var current_month_cells = genFalseArray(7);\n        var selected = this.props.initial_dates;\n        for (var i = 0; i < 6; ++i) {\n            var column = [];\n            for (var j = 0; j < 7; ++j) {\n                if (i >= calendar().length){\n                    column.push(<td disabled key={i+j}></td>);\n                }\n                else {\n                    var date = calendar(now)[i][j];\n                    var day = date.getDate();\n                    var month = date.getMonth() * 100;\n                    var year = date.getFullYear() * 10000;\n        \n                    if (selected.includes(date.getTime())) {\n                        current_month_cells[i + 1][j] = true;\n                    }\n                    if (date.getMonth() !== now.getMonth()){\n                        column.push(<td disabled key={year + month + day}></td>);\n                    }\n                    else {\n                        column.push(<td key={year + month + day}>{day}</td>);    \n                    }\n                }\n            }\n            rows.push(<tr key={i}>{column}</tr>);\n        }\n        return rows;\n    }\n\n    initial_first_month_cells = () => {\n        var current_month_cells = genFalseArray(7);\n        var selected = this.props.initial_dates;\n        for (var i = 0; i < 6; ++i) {\n            for (var j = 0; j < 7; ++j) {\n                if (i < calendar().length){\n                    var date = calendar(now)[i][j];\n                    if (selected.includes(date.getTime())) {\n                        current_month_cells[i + 1][j] = true;\n                    }\n                }\n            }\n        }\n        return current_month_cells;\n    }\n\n    generate_rows = () => {\n        var rows = [];\n        var current_month_cells = genFalseArray(7);\n        var selected = Object.values(this.state.selected_cells).map(x =>\n            x.getTime()\n        );\n        for (var i = 0; i < 6; ++i) {\n            var column = [];\n            for (var j = 0; j < 7; ++j) {\n                if (i >= calendar(this.state.current_month).length){\n                    column.push(<td disabled key={i+j}></td>);\n                }\n                else {\n                    var date = calendar(this.state.current_month)[i][j];\n                    var day = date.getDate();\n                    var month = date.getMonth() * 100;\n                    var year = date.getFullYear() * 10000;\n    \n                    if (selected.includes(date.getTime())) {\n                        current_month_cells[i + 1][j] = true;\n                    }\n                    if (date.getMonth() !== this.state.current_month.getMonth()){\n                        column.push(<td disabled key={year + month + day}></td>);\n                    }\n                    else {\n                        column.push(<td key={year + month + day}>{day}</td>);    \n                    }\n                }\n            }\n            var row_key =\n                this.state.current_month.getMonth() * 100 + 7 * (i + 1);\n            rows.push(<tr key={row_key}>{column}</tr>);\n        }\n        this.setState({\n            first_month_cells: current_month_cells,\n            displayed_array: rows,\n            current_array: calendar(this.state.current_month)\n        });\n    };\n\n    handleDrag = new_cells => {\n        this.setState({ first_month_cells: new_cells });\n        var selected = Object.values(this.state.selected_cells).map(x =>\n            x.getTime()\n        );\n        for (var i = 0; i < calendar(this.state.current_month).length; ++i) {\n            for (var j = 0; j < 7; ++j) {\n                var current_day = this.state.current_array[i][j];\n                var current_cell = new_cells[i + 1][j];\n                if (\n                    current_cell === true &&\n                    selected.includes(current_day.getTime()) === false\n                ) {\n                    selected.push(current_day.getTime());\n                } else if (\n                    current_cell === false &&\n                    selected.includes(current_day.getTime()) === true\n                ) {\n                    selected.splice(selected.indexOf(current_day.getTime()), 1);\n                }\n            }\n        }\n        selected.sort();\n        this.props.onDrag('date_array',selected);\n        selected = selected.map(x => new Date(x));\n        this.setState({ selected_cells: selected });\n    };\n\n    handleNext = (e) => {\n        e.preventDefault()\n        if (this.state.current_month.getMonth() === 11) {\n            this.setState(\n                {\n                    current_month: new Date(\n                        this.state.current_month.getFullYear() + 1,\n                        0,\n                        1\n                    )\n                },\n                () => {\n                    this.generate_rows();\n                }\n            );\n        } else {\n            this.setState(\n                {\n                    current_month: new Date(\n                        this.state.current_month.getFullYear(),\n                        this.state.current_month.getMonth() + 1,\n                        1\n                    )\n                },\n                () => {\n                    this.generate_rows();\n                }\n            );\n        }\n    };\n\n    handlePrev = (e) => {\n        e.preventDefault()\n        if (this.state.current_month.getMonth() === 0) {\n            this.setState(\n                {\n                    current_month: new Date(\n                        this.state.current_month.getFullYear() - 1,\n                        11,\n                        1\n                    )\n                },\n                () => {\n                    this.generate_rows();\n                }\n            );\n        } else {\n            this.setState(\n                {\n                    current_month: new Date(\n                        this.state.current_month.getFullYear(),\n                        this.state.current_month.getMonth() - 1,\n                        1\n                    )\n                },\n                () => {\n                    this.generate_rows();\n                }\n            );\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                    <div><p>\n                    {monthNames[this.state.current_month.getMonth()]}{\" \"}\n                    {this.state.current_month.getFullYear()}</p>\n                    </div>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <Button\n                                    style={{maxWidth: '30px', maxHeight: '30px', minWidth: '30px', minHeight: '30px'}}\n                                    onClick={this.handlePrev}\n                                >\n                                <NavigateBeforeIcon/>\n                                </Button>\n                            </td>\n                            <td>\n                                <TableDragSelect\n                                    value={this.state.first_month_cells}\n                                    onChange={this.handleDrag}\n                                >\n                                    <tr>\n                                        <td disabled>Sun</td>\n                                        <td disabled>Mon</td>\n                                        <td disabled>Tue</td>\n                                        <td disabled>Wed</td>\n                                        <td disabled>Thu</td>\n                                        <td disabled>Fri</td>\n                                        <td disabled>Sat</td>\n                                    </tr>\n                                    {this.state.displayed_array}\n                                </TableDragSelect>\n                            </td>\n                            <td>\n                                <Button\n                                    style={{maxWidth: '30px', maxHeight: '30px', minWidth: '30px', minHeight: '30px'}}\n                                    onClick={this.handleNext}\n                                >\n                                    <NavigateNextIcon/>\n                                </Button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default Calendar;","import React, { Component } from \"react\";\nimport TableDragSelect from \"react-table-drag-select\";\n\nfunction genFalseArray (length) {\n    const rows = []\n    for (var i = 0; i < length; ++i){\n        rows.push([false,false,false,false,false,false,false])\n    }\n    return (rows)\n}\n\nconst day_list = [\n\t1240113600000,\n\t1240200000000,\n\t1240286400000,\n\t1240372800000,\n\t1240459200000,\n\t1240545600000,\n\t1240632000000\n]\n\nclass ByWeek extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {boolean_cells: this.initialize(),\n\t\t\tselected: [],\n\t\t\tdisplayed_array: this.genInitRows()}\n\t}\n\n\tinitialize = () => {\n\t\tif (!this.props.initial_days) return genFalseArray(2);\n\t\telse {\n\t\t\tconst rows = [];\n\t\t\trows.push([false,false,false,false,false,false,false]);\n\t\t\tconst row2 = [];\n\t\t\tfor (var i = 0; i < 7 ; i++) {\n\t\t\t\tif (this.props.initial_days.indexOf(day_list[i]) !== -1) row2.push(true);\n\t\t\t\telse row2.push(false);\n\t\t\t}\n\t\t\trows.push(row2);\n\t\t\treturn rows;\n\t\t}\n\t}\n\n\tgenInitRows = () => {\n\t\tvar rows = []\n\t\tfor (var j = 0; j < 1; ++j){\n\t\t\t\tvar column = []\n\t\t\t\tfor (var i = 0; i < 7; ++i){\n\t\t\t\t\tcolumn.push(<td key={i}>&nbsp;</td>)\n\t\t\t\t}\n\t\t\t\trows.push(<tr key={1}>{column}</tr>)\n\t\t\t}\n\t\treturn(rows)\n\t}\n\n\thandleDrag = new_cells => {\n\t\t\n\t\tthis.setState({boolean_cells: new_cells})\n\t\tvar selected = []\n\t\tfor (var i = 0; i < 7; ++i){\n\t\t\tif (new_cells[1][i] === true && selected.includes(day_list[i]) === false){\n\t\t\t\tselected.push(day_list[i])\n\t\t\t}\n\t\t\telse if (new_cells[1][i] === false && selected.includes(day_list[i]) === true){\n\t\t\t\tselected.splice(selected.indexOf(day_list[i]), 1);\n\t\t\t}\n\t\t}\n\t\tthis.props.onDrag('day_array',selected)\n\t\tthis.setState({selected: selected})\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<TableDragSelect\n\t\t\t    value={this.state.boolean_cells}\n\t\t\t    onChange={this.handleDrag}\n\t\t\t>\n\t\t\t\t<tr>\n\t\t\t\t    <td disabled >Sun</td>\n\t\t\t\t    <td disabled >Mon</td>\n\t\t\t\t    <td disabled >Tue</td>\n\t\t\t\t    <td disabled >Wed</td>\n\t\t\t\t    <td disabled >Thu</td>\n\t\t\t\t    <td disabled >Fri</td>\n\t\t\t\t    <td disabled >Sat</td>\n\t\t\t\t</tr>\n\t\t\t\t{this.state.displayed_array}\n\t\t\t</TableDragSelect>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ByWeek","import React, { Component } from \"react\";\nimport { NativeSelect } from '@material-ui/core';\n\nclass Bounds extends Component {\n\n\tgenerateOptions (){\n\t\tvar rows = []\n\t\trows.push(<option value=\"0\" key='0'>Midnight </option>)\n\t\tfor (var i = 1; i <= 11; ++i){\n\t\t\t\trows.push(<option value={i} key={i}>{i} AM </option>)\n\t\t\t}\n\t\trows.push(<option value={12} key='12'>Noon </option>)\n\t\tfor (var j = 1; j <= 11; ++j){\n\t\t\t\trows.push(<option value={j + 12} key={j+12} >{j} PM </option>)\n\t\t\t}\n\t\trows.push(<option value=\"0\" key=\"24\">Midnight </option>)\n\t\treturn(rows)\n\t\t}\n\n\trender () {\n\t\treturn(\n\t\t\t<NativeSelect\n\t\t\tname={this.props.name}\n            as={this.props.as}\n            className=\"Bounds\"\n            defaultValue={this.props.value} \n            onChange={this.props.onChange}\n\t\t\t>\n\t\t\t{this.generateOptions()}\n\t\t\t</NativeSelect>\n\t\t\t)\n\t}\n}\n\nexport default Bounds;","import React, { Component } from \"react\";\nimport { NativeSelect } from '@material-ui/core';\nvar moment = require('moment-timezone');\nconst all_zones = moment.tz.names()\n\n\nclass Timezone extends Component {\n    \n    generateZones (){\n            var rows = []\n            for (var zone of all_zones){\n                if (zone === moment.tz.guess()){\n                    rows.push(<option defaultValue value={zone}key={zone}> {zone} </option>)\n                }\n                else {\n                    rows.push(<option value={zone} key={zone}> {zone} </option>)\n                }\n            }\n            return(rows)\n        }\n\n    render() {\n        return (\n            <NativeSelect\n            name={this.props.name}\n            as={this.props.as}\n            className=\"Timezone\"\n            defaultValue={moment.tz.guess()} \n            onChange={this.props.onChange}\n            >\n            {this.generateZones()}\n            </NativeSelect>\n            )\n    }\n}\n\nexport default Timezone;","import React, { Component } from \"react\";\nimport { Checkbox } from \"@material-ui/core\";\nimport { Formik } from \"formik\";\nimport Axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nimport Calendar from \"./ReactTableDrag.js\";\nimport ByWeek from \"./ByWeek.js\";\nimport Bounds from \"./Bounds.js\";\nimport Timezone from \"./Timezone.js\";\nimport { Button } from \"@material-ui/core\";\nimport { getCookie } from \"./Cookies.js\"\n\nconst API_LINK = process.env.REACT_APP_BACKEND_URL || \"http://localhost:8000/api/\";\nconst current_timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\nclass Splash extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            future_slug: \"\",\n            repeating: false,\n            date_array: [],\n            day_array: [],\n            earliest: 10,\n            latest: 14,\n        };\n    }\n    async componentDidMount() {\n        Axios.get(API_LINK + \"get_slug\").then((response) => {\n            console.log(response.data[0].slug)\n            this.setState({ future_slug: response.data[0].slug });\n        });\n    }\n    render() {\n        return (\n            <Formik\n                enableReinitialize={true}\n                initialValues={{\n                    event_name: \"\",\n                    timezone: current_timezone,\n                    earliest: this.state.earliest,\n                    latest: this.state.latest,\n                    repeating: this.state.repeating,\n                    slug: this.state.future_slug,\n                    date_array: this.state.date_array,\n                    day_array: this.state.day_array,\n                    name_array: [],\n                }}\n                onSubmit={(values) => {\n                    if (values.repeating) {\n                        values.date_array = values.day_array;\n                        delete values.day_array;\n                    } else {\n                        delete values.day_array;\n                    }\n                    Axios.post(API_LINK + \"post/\", values, {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                    })\n                        .then((response) => {\n                            this.props.history.push(values.slug);\n                        })\n                        .catch((error) => {\n                            alert(\"ERROR\");\n                            alert(error.response);\n                        });\n                }}\n            >\n                {(props) => (\n                    <div className=\"Splash\">\n                    <form onSubmit={props.handleSubmit}>\n                        <div className=\"form__group\">\n                            <input\n                                id=\"event_name\"\n                                name=\"event_name\"\n                                placeholder=\"Event Name\"\n                                type=\"event_name\"\n                                className=\"form__field\"\n                                value={props.values.event_name}\n                                onChange={props.handleChange}\n                                required\n                            />\n                        </div>\n                        {props.values.repeating === false ? (\n                            <Calendar\n                                initial_dates={props.values.date_array}\n                                onDrag={props.setFieldValue}\n                            />\n                        ) : (\n                            <ByWeek\n                                initial_days={props.values.day_array}\n                                onDrag={props.setFieldValue}\n                            />\n                        )}\n                        <div style={{\"display\": \"inline-block\"}}>\n                        <label>\n                            <small>At the earliest</small>\n                        </label>\n                        <br/>\n                        <Bounds\n                            name=\"earliest\"\n                            placeholder=\"At the earliest\"\n                            value={props.values.earliest}\n                            onChange={(event) =>\n                                props.setFieldValue(\"earliest\", event.target.value)\n                            }\n                        />\n                        </div>\n                        <div style={{\"display\": \"inline-block\"}}>\n                        <label>\n                            <small>At the latest</small>\n                        </label>\n                        <br/>\n                        <Bounds\n                            name=\"latest\"\n                            value={props.values.latest}\n                            placeholder=\"At the latest\"\n                            onChange={(event) =>\n                                props.setFieldValue(\"latest\", event.target.value)\n                            }\n                        />\n                        </div>\n                        <br />\n                        <Timezone\n                            name=\"timezone\"\n                            as=\"select\"\n                            value={props.values.timezone}\n                            onChange={props.handleChange}\n                        />\n                        <br />\n                        <label>\n                            <small>By Week</small>\n                        </label>\n                        <Checkbox\n                            name=\"repeating\"\n                            type=\"checkbox\"\n                            checked={props.values.repeating}\n                            onChange={props.handleChange}\n                        ></Checkbox>\n                        <div>\n                            <Button\n                                color=\"primary\"\n                                variant=\"contained\"\n                                type=\"submit\"\n                            >\n                                Submit\n                            </Button>\n                        </div>\n                    </form>\n                    </div>\n                )}\n            </Formik>\n        );\n    }\n}\n\nexport default withRouter(Splash);\n","import { createMuiTheme } from '@material-ui/core';\n\nexport const darkTheme = createMuiTheme({\n\tpalette: {\n\t\ttype: 'dark',\n\t\tbackground: {\n\t\t\tdefault: '#2C3544'\n\t\t}\n\t},\n});\n\nexport const lightTheme = createMuiTheme({\n\tpalette: {\n\t\ttype: 'light',\n\t\tbackground: {\n\t\t\tdefault: '#E2E2E2'\n\t\t}\n\t},\n});","import React, { Component } from 'react';\nimport Viewer from './Viewer.js';\nimport Splash from './Splash.js';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport { ThemeProvider, Switch as Switcher, CssBaseline } from '@material-ui/core';\nimport {lightTheme, darkTheme} from './CSS/themes.js'\n\n// ALL CSS IMPORTS\nimport './CSS/App.css';\nimport './CSS/DragTable.css';\nimport './CSS/index.css';\nimport './CSS/Splash.css';\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    const initial = localStorage.darkMode === undefined ? false : localStorage.darkMode \n    this.state={\"dark\": initial === 'true'};\n  }\n\n  onToggle = (e) => {\n    this.setState({\"dark\": !this.state.dark})\n    localStorage.setItem('darkMode', !this.state.dark);\n  }\n  render() {\n    return(\n      <ThemeProvider theme={this.state.dark === true ? darkTheme : lightTheme}>\n      <CssBaseline />\n      <div className=\"main\">\n      <Router>\n        <Switch>\n          <Route path=\"/:slug\" component ={Viewer}/>\n          <Route path=\"/\" component ={Splash}/>    \n        </Switch>\n      </Router>\n      </div>\n      <footer>\n      <div style={{\"display\": \"inline-block\"}}>Dark Mode </div> \n      <div style={{\"display\": \"inline-block\"}}>\n        <Switcher checked={this.state.dark} onChange={this.onToggle}/>\n      </div>\n      </footer>\n      </ThemeProvider>\n      )\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './CSS/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/sign_in_demo.c7e50dab.gif\";"],"sourceRoot":""}